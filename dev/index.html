<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · WellKnownGeometry.jl</title><meta name="title" content="Home · WellKnownGeometry.jl"/><meta property="og:title" content="Home · WellKnownGeometry.jl"/><meta property="twitter:title" content="Home · WellKnownGeometry.jl"/><meta name="description" content="Documentation for WellKnownGeometry.jl."/><meta property="og:description" content="Documentation for WellKnownGeometry.jl."/><meta property="twitter:description" content="Documentation for WellKnownGeometry.jl."/><meta property="og:url" content="https://evetion.github.io/WellKnownGeometry.jl/"/><meta property="twitter:url" content="https://evetion.github.io/WellKnownGeometry.jl/"/><link rel="canonical" href="https://evetion.github.io/WellKnownGeometry.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>WellKnownGeometry.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#WellKnownText"><span>WellKnownText</span></a></li><li><a class="tocitem" href="#WellKnownBinary"><span>WellKnownBinary</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/evetion/WellKnownGeometry.jl/blob/main/docs/src/index.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p><a href="https://github.com/evetion/WellKnownGeometry.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/evetion/WellKnownGeometry.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status"/></a> <a href="https://codecov.io/gh/evetion/WellKnownGeometry.jl"><img src="https://codecov.io/gh/evetion/WellKnownGeometry.jl/branch/main/graph/badge.svg" alt="Coverage"/></a></p><h1 id="WellKnownGeometry"><a class="docs-heading-anchor" href="#WellKnownGeometry">WellKnownGeometry</a><a id="WellKnownGeometry-1"></a><a class="docs-heading-anchor-permalink" href="#WellKnownGeometry" title="Permalink"></a></h1><p>Reading and writing Well Known Text (WKT) and Well Known Binary (WKB) based on <a href="https://github.com/JuliaGeo/GeoInterface.jl/">GeoInterface.jl</a>. See <a href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry">this Wikipedia page</a> for an explanation of Well-known text and binary geometry.</p><p>Given a GeoInterface compatible geometry, this package can generate the WKT and WKB representation of it. It also does the reverse, as it implements GeoInterface for WKT or WKB strings.</p><h2 id="WellKnownText"><a class="docs-heading-anchor" href="#WellKnownText">WellKnownText</a><a id="WellKnownText-1"></a><a class="docs-heading-anchor-permalink" href="#WellKnownText" title="Permalink"></a></h2><p>Given a WKT string, we can retrieve the type and underlying coordinates, and thus convert it to other geometries using GeoInterface. Note that WKT strings are wrapped by GeoFormatTypes so we can distinguish them from any other strings.</p><pre><code class="language-julia hljs">using ArchGDAL
using GeoFormatTypes
using WellKnownGeometry
using GeoInterface

wkts = &quot;POINT (30 10)&quot;
wkt = GeoFormatTypes.WellKnownText(GeoFormatTypes.Geom(), wkts)

GeoInterface.geomtrait(wkt)  # PointTrait()
GeoInterface.ncoord(wkt)  # 2
GeoInterface.coordinates(wkt)  # 2-element Vector{Float64}: 30.0 10.0

p = convert(ArchGDAL.IGeometry{ArchGDAL.wkbPoint}, wkt)  # Geometry: POINT (30 10)</code></pre><p>As ArchGDAL geometries implement GeoInterface, we can generate the WKT for it.</p><pre><code class="language-julia hljs">wkt = WellKnownGeometry.getwkt(p)  # WellKnownText{GeoFormatTypes.Geom}(GeoFormatTypes.Geom(), &quot;POINT (30.0 10.0)&quot;)
GeoFormatTypes.val(wkt)  # &quot;POINT (30.0 10.0)&quot;</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WellKnownGeometry.getwkt" href="#WellKnownGeometry.getwkt"><code>WellKnownGeometry.getwkt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getwkt(geom)</code></pre><p>Retrieve the Well Known Text (WKT) as <code>GeoFormatTypes.WellKnownText</code> for a <code>geom</code> that implements the GeoInterface. Use <code>GeoFormatTypes.val</code> to get the String representation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evetion/WellKnownGeometry.jl/blob/15b96fb645bf1ffc867e183b281d550b8ca8cc2e/src/wkt.jl#L44-L49">source</a></section></article><h2 id="WellKnownBinary"><a class="docs-heading-anchor" href="#WellKnownBinary">WellKnownBinary</a><a id="WellKnownBinary-1"></a><a class="docs-heading-anchor-permalink" href="#WellKnownBinary" title="Permalink"></a></h2><p>Given a WKB byte string, we can retrieve the type and underlying coordinates, and thus convert it to other geometries using GeoInterface. Note that WKB byte strings are wrapped by GeoFormatTypes so we can distinguish them from any other byte strings.</p><pre><code class="language-julia hljs">using ArchGDAL
using GeoFormatTypes
using WellKnownGeometry
using GeoInterface

wkbs = [0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3e, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x24, 0x40]
wkb = GeoFormatTypes.WellKnownBinary(GeoFormatTypes.Geom(), wkbs)

GeoInterface.geomtrait(wkb)  # PointTrait()
GeoInterface.ncoord(wkb)  # 2
GeoInterface.coordinates(wkb)  # 2-element Vector{Float64}: 30.0 10.0

p = convert(ArchGDAL.IGeometry{ArchGDAL.wkbPoint}, wkb)  # Geometry: POINT (30 10)</code></pre><p>As ArchGDAL geometries implement GeoInterface, we can generate the WKB for it.</p><pre><code class="language-julia hljs">wkb = WellKnownGeometry.getwkb(p)  # WellKnownText{GeoFormatTypes.Geom}(GeoFormatTypes.Geom(), &quot;POINT (30.0 10.0)&quot;)
GeoFormatTypes.val(wkb)  # &quot;POINT (30.0 10.0)&quot;</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WellKnownGeometry.getwkb" href="#WellKnownGeometry.getwkb"><code>WellKnownGeometry.getwkb</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getwkb(geom)</code></pre><p>Retrieve the Well Known Binary (WKB) as <code>GeoFormatTypes.WellKnownBinary</code> for a <code>geom</code> that implements the GeoInterface. Use <code>GeoFormatTypes.val</code> to get the Vector{UInt8} representation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/evetion/WellKnownGeometry.jl/blob/15b96fb645bf1ffc867e183b281d550b8ca8cc2e/src/wkb.jl#L48-L53">source</a></section></article><p>We thank Julia Computing for supporting contributions to this package.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Friday 5 April 2024 09:11">Friday 5 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
